pipeline {
    agent any

    stages {
        stage('Get Master/Slave Details') {
            steps {
              
                    def masterNode = Jenkins.getInstance().getNode('master')
                    echo "Master Node Name: ${masterNode.name}"
                    echo "Master Node Labels: ${masterNode.getLabelString()}"

                    def slaveNodes = Jenkins.getInstance().getNodes().findAll { node ->
                        node != masterNode
                    }

                    echo "Slave Nodes:"
                    for (slaveNode in slaveNodes) {
                        echo " - Name: ${slaveNode.name}, Labels: ${slaveNode.getLabelString()}"
                    }
                
            }
        }
    }
}
